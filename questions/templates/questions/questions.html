<!DOCTYPE html>
{% load static %}
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>The Daily Algo</title>
    <link rel="stylesheet" type="text/css" href="{% static 'main.css' %}">
</head>

<body>
    <div class="flex-container">
        <div class="flex-item-left">
            <div class="text-containers">
                <div class="question-header">
                    <h1><a href="{{question.link}}" target="_blank" style="color: blue; text-decoration: none;">{{question.number}}.{{question.title}}</a></h1>
                    <span>&#128279;</span>
                </div>
                <hr>
                {{question.description| safe}}
            </div>
            <div class="text-containers">
                <h2>Example</h2>
                <hr>
                {{example | safe}}
            </div>
            <div class="text-containers">
                <h2>Constraints</h2>
                <hr>
                {{constraint | safe}}
            </div>
            <div class="text-containers">
                <h2>Testcases</h2>
                <hr>
                {{testcase | safe}}
            </div>
        </div>
        <div class="flex-item-right">
            <form action="" method="post">
                {% csrf_token %}
                <textarea name="my-python-editor" data-editor="python" rows="15">{{ user_code }}</textarea>
                <div class="output">
                    <div class="output-left">
                        <h3>TEST RESULTS</h3>
                        <div class="output-content">  
                            {% for t in test_output %}
                                {% if t %}
                                <div class="testcases">
                                    {% for t_output in t %}
                                    <pre>{{t_output}}</pre>
                                    {% endfor %}
                                </div>
                                {% endif %}
                            {% endfor %}
                        </div>
                    </div>
                    <div class="output-right">
                        <h3>STDOUT</h3>
                        <div class="output-content">
                            {% for s in std_output %}
                                {% if s %}
                                <div class="testcases">
                                    {% for s_output in s %}
                                    <pre>{{ s_output }}</pre>
                                    {% endfor %}
                                </div>
                                {% endif %}
                            {% endfor %}
                            {% if errors != '' %}
                            <div class="testcases">
                                <pre>{{errors}}</pre>
                            </div>
                            {% endif %}    
                        </div>
                    </div>
                </div>
                <div class="btn btn-hover ">
                    <input type="submit" id="submit-btn" class="btn-detail " value="Run Code">
                </div>
                <div class="reset-btn btn-hover" >
                    <a href="{%url 'question'%}" style="color: black; text-decoration: none; text-align: center; ">Reset Code</a>
                    <!--<input type="submit" id="reset-btn" class="btn-detail " value="Reset Code">-->
                </div>
            </form> 
        </div>
    </div>
    <script src="https://pagecdn.io/lib/ace/1.4.14/ace.js" crossorigin="anonymous" integrity="sha256-dB+UoImtJcNhukfmN+N1Jq+a8cU175tUwyuoTiJR2Qk=" ></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="{% static 'main.js'%}"></script>
</body>
</html>
